{% load staticfiles %}
<!DOCTYPE html>
<html>
  <head>
    <title>SudoCode Airplanes</title>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="{% static 'css/datepicker.min.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="{% static 'js/datepicker.min.js' %}"></script>
  </head>
  <body>
    <form id="search" method="post" action="/search">
      <input type="hidden" id="from" name="from" value="">
      <input type="hidden" id="to" name="to" value="">
      <input type="hidden" id="start" name="start" value="">
      <input type="hidden" id="end" name="end" value="">
      <p>From: <input type="text" id="from_airport" size="40"/></p>
      <p>To: <input type="text" id="to_airport" size="40"/></p>
      <p>Date: <input type="text" id="date" size="40"/></p>
      <input type="submit"></input>
    </form>
    <script>
$(function() {
    $("#from_airport").autocomplete({
        source: "airportAjax",
        select: function(event, ui) {
            $("#from").val(ui.item.id);
        }
    });
    $("#to_airport").autocomplete({
        source: "airportAjax",
        select: function(event, ui) {
            $("#to").val(ui.item.id);
        }
    });
    $('#date').dateRangePicker({
        showShortcuts: false,
        format: 'YYYY-MM-DD'
    }).bind('datepicker-change', function(evt, obj) {
        $("#start").val(Math.floor(obj.date1.getTime() / 1000));
        $("#end").val(Math.floor(obj.date2.getTime() / 1000));
    });
});
</script>
  </body>
</html>
